./config.cmd --url https://github.com/manishdblog/ci-cd-runner-all --token AUHOBGWV4CYQ6WK5NLVO6Y3IUSOLA

new
./config.cmd --url https://github.com/manishdblog/ci-cd-runner-all --token AUHOBGQKE4IQY7GMBFUPPEDIUS3I4

exlukdev



# Set paths (adjust if needed)
$solutionPath = "D:\GitHubRunners\ci-cd-runner-all\dotnetfw\YourSolution.sln"
$packagesPath = "D:\GitHubRunners\ci-cd-runner-all\dotnetfw\packages"

Write-Host "Cleaning old NuGet packages..."
if (Test-Path $packagesPath) {
    Remove-Item -Recurse -Force $packagesPath
    Write-Host "Deleted old packages folder."
}

Write-Host "Restoring NuGet packages..."
# Use nuget.exe if available, otherwise use MSBuild restore
$nugetExe = "D:\nuget\nuget.exe"   # Update if your nuget.exe is elsewhere

if (Test-Path $nugetExe) {
    & $nugetExe restore $solutionPath -PackagesDirectory $packagesPath
} else {
    # Fall back to msbuild restore
    msbuild $solutionPath /t:Restore /p:RestorePackagesPath=$packagesPath
}

Write-Host "NuGet restore completed."


************
# Path to your solution file (.sln)
$solutionPath = "D:\gitrunner\ukt\_work\ci-cd-runner-all\ci-cd-runner-all\Sln_NITWebAPI.sln"

# Ensure NuGet.exe is available
$nugetExe = "D:\gitrunner\nuget.exe"
if (!(Test-Path $nugetExe)) {
    Write-Host "Downloading NuGet.exe..."
    Invoke-WebRequest -Uri https://dist.nuget.org/win-x86-commandline/latest/nuget.exe -OutFile $nugetExe
}

# Clear old packages folder (optional)
$packagesFolder = "D:\gitrunner\ukt\_work\ci-cd-runner-all\ci-cd-runner-all\packages"
if (Test-Path $packagesFolder) {
    Remove-Item -Recurse -Force $packagesFolder
}

# Restore packages
Write-Host "Restoring NuGet packages..."
& $nugetExe restore $solutionPath -PackagesDirectory $packagesFolder -NonInteractive -Verbosity detailed

Write-Host "NuGet restore complete."


